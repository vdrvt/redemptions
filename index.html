<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Bondai Demo Entry</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      color-scheme: light only;
      --bg: #f4f6f8;
      --card-bg: #ffffff;
      --primary: #1b7cd7;
      --primary-dark: #145fa4;
      --text: #2c3e50;
      --muted: #5f7385;
      --error: #c0392b;
      --border: #d9e2ec;
    }
    * {
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      padding: 24px;
    }
    .card {
      width: min(420px, 100%);
      background: var(--card-bg);
      padding: 32px;
      border-radius: 16px;
      box-shadow: 0 20px 45px rgba(17, 29, 45, 0.12);
    }
    h1 {
      margin: 0 0 16px;
      font-size: 1.75rem;
    }
    p.description {
      margin: 0 0 24px;
      color: var(--muted);
      line-height: 1.5;
    }
    label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
    }
    input[type="text"] {
      width: 100%;
      font-size: 1rem;
      padding: 12px 14px;
      border-radius: 8px;
      border: 1px solid var(--border);
      margin-bottom: 8px;
    }
    input[type="text"]:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(27, 124, 215, 0.18);
    }
    .help {
      margin: 0 0 24px;
      font-size: 0.9rem;
      color: var(--muted);
    }
    .buttons {
      display: grid;
      gap: 12px;
    }
    button {
      appearance: none;
      border: none;
      border-radius: 10px;
      padding: 14px 16px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }
    button.primary {
      background: linear-gradient(135deg, #1b7cd7 0%, #0d55a0 100%);
      color: #ffffff;
      box-shadow: 0 12px 24px rgba(27, 124, 215, 0.3);
    }
    button.secondary {
      background: #eef3f8;
      color: var(--text);
      box-shadow: 0 8px 18px rgba(17, 29, 45, 0.08);
    }
    button:hover {
      transform: translateY(-2px);
    }
    button:active {
      transform: translateY(0);
      box-shadow: none;
    }
    button.ghost {
      background: transparent;
      color: var(--primary);
      border: 1px solid var(--primary);
      box-shadow: none;
    }
    button.ghost:hover {
      background: rgba(27, 124, 215, 0.08);
    }
    .error {
      color: var(--error);
      min-height: 1.2em;
      font-size: 0.9rem;
      margin-top: 12px;
    }
    .flow-note {
      margin-top: 28px;
      padding: 18px;
      border-radius: 12px;
      background: #eef3f8;
      color: var(--text);
      line-height: 1.45;
    }
    .flow-note strong {
      display: block;
      margin-bottom: 6px;
    }
    .flow-note a {
      color: var(--primary-dark);
      font-weight: 600;
      text-decoration: none;
    }
    .flow-note a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <main class="card">
    <h1>Choose a Bondai Demo Flow</h1>
    <p class="description">
      Provide a member ID (MID) and jump straight into the workflow you want to test.
    </p>
    <form id="mid-form" novalidate>
      <label for="mid-input">Member ID (MID)</label>
      <input id="mid-input" name="mid" type="text" placeholder="e.g. BA1234AB56CD7890" autocomplete="off" required>
      <div class="buttons" style="margin-bottom: 16px;">
        <button type="button" class="ghost" id="generate-mid">Generate MID</button>
      </div>
      <p class="help">The MID will be appended to the destination URL as <code>?mid=</code>.</p>
      <div class="buttons">
        <button type="button" class="primary" data-target="/landing.html">Server-side API call</button>
        <button type="button" class="secondary" data-target="/landing-gtm.html">GTM custom HTML tag calls API</button>
        <button type="button" class="secondary" data-target="/landing-bur.html">Bondai BUR flow (browser direct)</button>
      </div>
      <p id="mid-error" class="error" role="alert"></p>
    </form>
    <div class="flow-note">
      <strong>Bondai BUR flow (browser direct)</strong>
      <span>Start at <a id="bur-link" href="/landing-bur.html">landing-bur.html</a> to test the browser-based redemption. The MID generator above updates this link automatically.</span>
    </div>
  </main>
  <script>
    (function () {
      const form = document.getElementById('mid-form');
      const input = document.getElementById('mid-input');
      const errorEl = document.getElementById('mid-error');
      const buttons = document.querySelectorAll('button[data-target]');
      const generateBtn = document.getElementById('generate-mid');
      const burLink = document.getElementById('bur-link');

      function randomSegment(length) {
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let segment = '';
        for (let i = 0; i < length; i++) {
          segment += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return segment;
      }

      function generateMid() {
        const prefixes = ['BA', 'MS'];
        const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
        return prefix + randomSegment(8) + randomSegment(8);
      }

      function navigate(target) {
        const mid = input.value.trim();
        if (!mid) {
          errorEl.textContent = 'Please enter a MID before continuing.';
          input.focus();
          return;
        }
        errorEl.textContent = '';
        const url = target + '?mid=' + encodeURIComponent(mid);
        window.location.href = url;
      }

      function updateBurLink() {
        if (!burLink) {
          return;
        }
        const mid = input.value.trim();
        if (mid) {
          const url = '/landing-bur.html?mid=' + encodeURIComponent(mid);
          burLink.href = url;
          burLink.textContent = 'landing-bur.html?mid=' + mid;
        } else {
          burLink.href = '/landing-bur.html';
          burLink.textContent = 'landing-bur.html';
        }
      }

      buttons.forEach((button) => {
        button.addEventListener('click', () => {
          navigate(button.getAttribute('data-target'));
        });
      });

      generateBtn.addEventListener('click', () => {
        const mid = generateMid();
        input.value = mid;
        errorEl.textContent = '';
        input.focus();
        input.select();
        updateBurLink();
      });

      form.addEventListener('submit', (event) => {
        event.preventDefault();
        navigate('/landing.html');
      });

      input.addEventListener('input', () => {
        if (input.value.trim()) {
          errorEl.textContent = '';
        }
        updateBurLink();
      });

      updateBurLink();
      input.focus();
    })();
  </script>
</body>
</html>


